{"ast":null,"code":"import _toConsumableArray from\"/Users/dootss/appdevelopment/blast/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/dootss/appdevelopment/blast/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/dootss/appdevelopment/blast/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2;import React,{useState,useEffect}from'react';import styled from'@emotion/styled';import{Link,useLocation}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Counter=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  color: white;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  font-family: GoodTime;\\n  margin-bottom: 100px;\\n\\n  p {\\n    color: rgb(227, 227, 227);\\n    margin-left: 45px;\\n    margin-right: 45px;\\n    transition: all 500ms;\\n    :hover {\\n      transform: scale(1.05);\\n    }\\n    @media (max-width: 39em) {\\n      font-size: 14px;\\n    }\\n    @media (max-width: 29em) {\\n      font-size: 13px;\\n      margin-left: 30px;\\n      margin-right: 30px;\\n    }\\n    @media (max-width: 25em) {\\n      font-size: 13px;\\n      margin-left: 5px;\\n      margin-right: 5px;\\n    }\\n  }\\n\"])));var Numbers=styled.ul(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-wrap: wrap;\\n  align-items: center;\\n  justify-content: center;\\n  li {\\n    color: white;\\n    margin-left: 12px;\\n    margin-right: 12px;\\n    width: 25px;\\n    height: 25px;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    transition: all 500ms;\\n    :is(:hover, .ready) {\\n      color: black;\\n      background-color: white;\\n    }\\n  }\\n  @media (max-width: 39em) {\\n    li {\\n      margin-top: 5px;\\n    }\\n    width: 160px;\\n  }\\n  @media (max-width: 30em) {\\n    li {\\n      margin: 0;\\n      margin-left: 5px;\\n      margin-right: 5px;\\n    }\\n    width: 180px;\\n  }\\n\"])));var Pagination=function Pagination(_ref){var totalPage=_ref.totalPage;var _useLocation=useLocation(),search=_useLocation.search;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),pageNumbers=_useState2[0],setPageNumbers=_useState2[1];var page=Number(new URLSearchParams(search).get('page'))||1;useEffect(function(){if(totalPage<=1)return;if(totalPage<=5){var _newArr=_toConsumableArray(Array(totalPage)).map(function(_,i){return i+1;});return setPageNumbers(_newArr);}var newArr=[];for(var i=1;i<=5;++i){if(page<=2){newArr.push(i);}if(page>2&&page<totalPage-2){newArr.push(page+i-3);}if(page>=totalPage-2){newArr.push(i-5+totalPage);}}setPageNumbers(newArr);},[totalPage,page]);if(totalPage<=1)return null;return/*#__PURE__*/_jsxs(Counter,{children:[/*#__PURE__*/_jsx(Link,{to:\"?page=\".concat(page-1<=1?1:page-1),children:/*#__PURE__*/_jsx(\"p\",{children:\"PREV\"})}),/*#__PURE__*/_jsx(Numbers,{children:pageNumbers.map(function(num){return/*#__PURE__*/_jsx(Link,{to:\"?page=\".concat(num),children:/*#__PURE__*/_jsx(\"li\",{className:page===num?'ready':'',children:num})},num);})}),/*#__PURE__*/_jsx(Link,{to:\"?page=\".concat(page+1>=totalPage?totalPage:page+1),children:/*#__PURE__*/_jsx(\"p\",{children:\"NEXT\"})})]});};export default Pagination;","map":{"version":3,"names":["React","useState","useEffect","styled","Link","useLocation","jsx","_jsx","jsxs","_jsxs","Counter","div","_templateObject","_taggedTemplateLiteral","Numbers","ul","_templateObject2","Pagination","_ref","totalPage","_useLocation","search","_useState","_useState2","_slicedToArray","pageNumbers","setPageNumbers","page","Number","URLSearchParams","get","newArr","_toConsumableArray","Array","map","_","i","push","children","to","concat","num","className"],"sources":["/Users/dootss/appdevelopment/blast/src/components/Pagination.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport styled from '@emotion/styled'\nimport { Link, useLocation } from 'react-router-dom';\n\nconst Counter = styled.div`\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-family: GoodTime;\n  margin-bottom: 100px;\n\n  p {\n    color: rgb(227, 227, 227);\n    margin-left: 45px;\n    margin-right: 45px;\n    transition: all 500ms;\n    :hover {\n      transform: scale(1.05);\n    }\n    @media (max-width: 39em) {\n      font-size: 14px;\n    }\n    @media (max-width: 29em) {\n      font-size: 13px;\n      margin-left: 30px;\n      margin-right: 30px;\n    }\n    @media (max-width: 25em) {\n      font-size: 13px;\n      margin-left: 5px;\n      margin-right: 5px;\n    }\n  }\n`\nconst Numbers = styled.ul`\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: center;\n  li {\n    color: white;\n    margin-left: 12px;\n    margin-right: 12px;\n    width: 25px;\n    height: 25px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    transition: all 500ms;\n    :is(:hover, .ready) {\n      color: black;\n      background-color: white;\n    }\n  }\n  @media (max-width: 39em) {\n    li {\n      margin-top: 5px;\n    }\n    width: 160px;\n  }\n  @media (max-width: 30em) {\n    li {\n      margin: 0;\n      margin-left: 5px;\n      margin-right: 5px;\n    }\n    width: 180px;\n  }\n`\nconst Pagination = ({totalPage}) => {\n  const { search } = useLocation();\n  const [pageNumbers, setPageNumbers] = useState([]);\n  const page = Number(new URLSearchParams(search).get('page')) || 1;\n\n  useEffect(() => {\n    if(totalPage <= 1) return;\n    \n    if(totalPage <= 5) {\n      \n      const newArr = [...Array(totalPage)].map((_, i) => i + 1);\n      return setPageNumbers(newArr);\n    }\n\n    let newArr = [];\n\n    for(let i = 1; i <= 5; ++i) {\n      if(page <= 2) {\n        newArr.push(i);\n      }\n      if(page > 2 && page < totalPage - 2) {\n        newArr.push(page + i - 3)\n      }\n      if(page >= totalPage - 2) {\n        newArr.push(i - 5 + totalPage)\n      }\n    }\n\n    setPageNumbers(newArr);\n    \n  }, [totalPage, page])\n\n  if(totalPage <= 1) return null;\n  return (\n    <Counter>\n      <Link to={`?page=${page - 1 <= 1 ? 1 : page - 1}`}>\n        <p>PREV</p>\n      </Link>\n\n      <Numbers>\n        {\n          pageNumbers.map(num => (\n            <Link to={`?page=${num}`} key={num}>\n              <li className={page === num ? 'ready' : ''}>{num}</li>\n            </Link>\n          ))\n        }\n\n      </Numbers>\n\n      <Link to={`?page=${page + 1 >= totalPage ? totalPage : page + 1}`}>\n        <p>NEXT</p>\n      </Link>\n    </Counter>\n  )\n}\n\nexport default Pagination\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}