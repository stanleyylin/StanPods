{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/dootss/appdevelopment/blast/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import React,{useEffect}from'react';import{Link}from'react-router-dom';import{QUERY_ONE_POST,options}from'../../graphql/Queries';import Comments from'../../components/Comments';import'./review.css';import useQueryPosts from'../../hooks/useQueryPosts';import NotFound from'../../components/NotFound';import styled from'@emotion/styled';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Review=function Review(){var _posts$;var _useQueryPosts=useQueryPosts({query:QUERY_ONE_POST,limit:4}),posts=_useQueryPosts.posts,error=_useQueryPosts.error,status=_useQueryPosts.status;useEffect(function(){window.scrollTo(0,0);},[]);if(error)return/*#__PURE__*/_jsx(\"h2\",{children:error});if(status!=='start'&&posts.length===0){return/*#__PURE__*/_jsx(NotFound,{});}return/*#__PURE__*/_jsxs(\"article\",{children:[posts.length>0&&/*#__PURE__*/_jsxs(\"header\",{className:\"post-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"main-post-info\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\".concat(posts[0].category.slug),children:/*#__PURE__*/_jsx(\"p\",{className:\"category\",children:posts[0].category.name})}),/*#__PURE__*/_jsx(\"h1\",{children:posts[0].title}),/*#__PURE__*/_jsx(\"h2\",{children:posts[0].artist}),/*#__PURE__*/_jsx(\"p\",{children:posts[0].year})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"image-circle\",children:[/*#__PURE__*/_jsx(\"img\",{src:posts[0].coverPhoto.url,alt:\"album-cover\"}),/*#__PURE__*/_jsx(\"div\",{className:\"circle\",children:/*#__PURE__*/_jsx(\"p\",{children:posts[0].rating})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"divider\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"square1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"line\"}),/*#__PURE__*/_jsx(\"div\",{className:\"square2\"})]}),posts.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"subtitle\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Reviewed:\"}),\" \",new Date(posts[0].datePublished).toLocaleDateString('en-US',options)]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Genre:\"}),\" \",posts[0].genre]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Label:\"}),\" \",posts[0].label]})]}),posts.length>0&&/*#__PURE__*/_jsx(\"div\",{class:\"content\",dangerouslySetInnerHTML:{__html:posts[0].content.html}}),status==='start'?/*#__PURE__*/_jsx(Block,{}):/*#__PURE__*/_jsx(Comments,{comments:(_posts$=posts[0])===null||_posts$===void 0?void 0:_posts$.comments})]});};var Block=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  background-color: black;\\n  height: 100vh;\\n  color: white;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  font-family: GoodTime;\\n\"])));export default Review;","map":{"version":3,"names":["React","useEffect","Link","QUERY_ONE_POST","options","Comments","useQueryPosts","NotFound","styled","jsx","_jsx","jsxs","_jsxs","Review","_posts$","_useQueryPosts","query","limit","posts","error","status","window","scrollTo","children","length","className","to","concat","category","slug","name","title","artist","year","src","coverPhoto","url","alt","rating","Date","datePublished","toLocaleDateString","genre","label","class","dangerouslySetInnerHTML","__html","content","html","Block","comments","div","_templateObject","_taggedTemplateLiteral"],"sources":["/Users/dootss/appdevelopment/blast/src/pages/reviews/Review.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { QUERY_ONE_POST, options } from '../../graphql/Queries';\nimport Comments from '../../components/Comments';\nimport './review.css';\nimport useQueryPosts from '../../hooks/useQueryPosts';\nimport NotFound from '../../components/NotFound';\nimport styled from '@emotion/styled';\nconst Review = () => {\n  const { posts, error, status } = useQueryPosts({query: QUERY_ONE_POST, limit: 4});\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n  \n  if(error) return <h2>{error}</h2>\n  if(status !== 'start' && posts.length === 0) {\n    return <NotFound/>\n  }\n  return (\n    <article>\n      {posts.length > 0 && \n        <header className='post-header'>\n          <div className='main-post-info'>\n            <Link to={`/${posts[0].category.slug}`}>\n              <p className='category'>{posts[0].category.name}</p>\n            </Link>\n            <h1>{posts[0].title}</h1>\n            <h2>{posts[0].artist}</h2>\n            <p>{posts[0].year}</p>\n          </div>\n\n          <div className='image-circle'>\n            <img src={posts[0].coverPhoto.url} alt='album-cover'/>\n            <div className='circle'>\n              <p>{posts[0].rating}</p>\n            </div>          \n          </div>\n        </header>\n      }\n      <div className='divider'>\n        <div className='square1'></div>\n        <div className='line'></div>\n        <div className='square2'></div>\n      </div>\n      \n      {posts.length > 0 && \n        <div className='subtitle'>\n          <p>\n            <b>Reviewed:</b> {new Date(posts[0].datePublished).toLocaleDateString('en-US', options)}</p>\n          <p>\n            <b>Genre:</b> {posts[0].genre}\n          </p>\n          <p>\n           <b>Label:</b> {posts[0].label}\n          </p>\n        </div>\n      }\n      \n      {posts.length > 0 && \n        <div class='content' dangerouslySetInnerHTML={{__html: posts[0].content.html}} />\n      }\n\n      {status === 'start' ? \n      <Block>\n      </Block> :\n      <Comments comments={posts[0]?.comments}/>}\n\n    </article>\n  )\n}\n\nconst Block = styled.div`\n  background-color: black;\n  height: 100vh;\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-family: GoodTime;\n`\n\nexport default Review\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}