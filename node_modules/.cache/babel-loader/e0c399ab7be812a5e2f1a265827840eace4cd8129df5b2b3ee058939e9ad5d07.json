{"ast":null,"code":"import React from'react';import{useParams,Link}from'react-router-dom';import{options,QUERY_SEARCH}from'../../graphql/Queries';import Search from'../../components/Search';import'./searchpage.css';import Release from'../../components/Release';import useQueryPosts from'../../hooks/useQueryPosts';import Pagination from'../../components/Pagination';import{useMyContext}from'../../context/store';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchPage=function SearchPage(){var _useQueryPosts=useQueryPosts({query:QUERY_SEARCH}),posts=_useQueryPosts.posts,error=_useQueryPosts.error;var _useParams=useParams(),slug=_useParams.slug;var _useMyContext=useMyContext(),totalPage=_useMyContext.totalPage;if(error)return/*#__PURE__*/_jsx(\"h2\",{children:error});return/*#__PURE__*/_jsxs(\"div\",{className:\"search-container\",children:[/*#__PURE__*/_jsx(Search,{}),slug&&/*#__PURE__*/_jsxs(\"h2\",{className:\"search-results\",children:[\"Blog posts for \\\"\",slug.replace(/-/g,' '),\"\\\"\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"search-grid\",children:posts===null||posts===void 0?void 0:posts.map(function(post){return/*#__PURE__*/_jsx(Link,{to:\"/\".concat(post.category.slug,\"/\").concat(post.slug),children:/*#__PURE__*/_jsx(Release,{img:post.coverPhoto.url,name:post.title,artist:post.artist,date:new Date(post.datePublished).toLocaleDateString('en-US',options),category:post.category.name})});})}),/*#__PURE__*/_jsx(Pagination,{totalPage:slug?totalPage:0})]});};export default SearchPage;","map":{"version":3,"names":["React","useParams","Link","options","QUERY_SEARCH","Search","Release","useQueryPosts","Pagination","useMyContext","jsx","_jsx","jsxs","_jsxs","SearchPage","_useQueryPosts","query","posts","error","_useParams","slug","_useMyContext","totalPage","children","className","replace","map","post","to","concat","category","img","coverPhoto","url","name","title","artist","date","Date","datePublished","toLocaleDateString"],"sources":["/Users/dootss/appdevelopment/blast/src/pages/search/SearchPage.jsx"],"sourcesContent":["import React from 'react'\nimport { useParams, Link } from 'react-router-dom';\nimport { options, QUERY_SEARCH } from '../../graphql/Queries';\nimport Search from '../../components/Search';\nimport './searchpage.css';\nimport Release from '../../components/Release';\nimport useQueryPosts from '../../hooks/useQueryPosts';\nimport Pagination from '../../components/Pagination';\nimport { useMyContext } from '../../context/store';\n\nconst SearchPage = () => {\n  const { posts, error} = useQueryPosts({query: QUERY_SEARCH});\n  const { slug } = useParams();\n  const { totalPage } = useMyContext();\n\n  if(error) return <h2>{error}</h2>\n  return (\n    <div className='search-container'>\n      <Search/>\n\n      {slug && \n        <h2 className='search-results'>\n          Blog posts for \"{slug.replace(/-/g, ' ')}\"\n        </h2>\n      }\n\n      <div className='search-grid'>\n        {posts?.map(post => (\n          <Link to={`/${post.category.slug}/${post.slug}`}>\n            <Release \n              img={post.coverPhoto.url}\n              name={post.title}\n              artist={post.artist}\n              date={new Date(post.datePublished).toLocaleDateString('en-US', options)}\n              category={post.category.name}\n            />\n          </Link>\n        ))}\n      </div>\n\n      <Pagination totalPage={slug ? totalPage : 0}/>\n\n    </div>\n  )\n}\n\nexport default SearchPage\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,CAAEC,IAAI,KAAQ,kBAAkB,CAClD,OAASC,OAAO,CAAEC,YAAY,KAAQ,uBAAuB,CAC7D,MAAO,CAAAC,MAAM,KAAM,yBAAyB,CAC5C,MAAO,kBAAkB,CACzB,MAAO,CAAAC,OAAO,KAAM,0BAA0B,CAC9C,MAAO,CAAAC,aAAa,KAAM,2BAA2B,CACrD,MAAO,CAAAC,UAAU,KAAM,6BAA6B,CACpD,OAASC,YAAY,KAAQ,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEnD,GAAM,CAAAC,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAA,CAAS,CACvB,IAAAC,cAAA,CAAwBR,aAAa,CAAC,CAACS,KAAK,CAAEZ,YAAY,CAAC,CAAC,CAApDa,KAAK,CAAAF,cAAA,CAALE,KAAK,CAAEC,KAAK,CAAAH,cAAA,CAALG,KAAK,CACpB,IAAAC,UAAA,CAAiBlB,SAAS,CAAC,CAAC,CAApBmB,IAAI,CAAAD,UAAA,CAAJC,IAAI,CACZ,IAAAC,aAAA,CAAsBZ,YAAY,CAAC,CAAC,CAA5Ba,SAAS,CAAAD,aAAA,CAATC,SAAS,CAEjB,GAAGJ,KAAK,CAAE,mBAAOP,IAAA,OAAAY,QAAA,CAAKL,KAAK,CAAK,CAAC,CACjC,mBACEL,KAAA,QAAKW,SAAS,CAAC,kBAAkB,CAAAD,QAAA,eAC/BZ,IAAA,CAACN,MAAM,GAAC,CAAC,CAERe,IAAI,eACHP,KAAA,OAAIW,SAAS,CAAC,gBAAgB,CAAAD,QAAA,EAAC,mBACb,CAACH,IAAI,CAACK,OAAO,CAAC,IAAI,CAAE,GAAG,CAAC,CAAC,IAC3C,EAAI,CAAC,cAGPd,IAAA,QAAKa,SAAS,CAAC,aAAa,CAAAD,QAAA,CACzBN,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAES,GAAG,CAAC,SAAAC,IAAI,qBACdhB,IAAA,CAACT,IAAI,EAAC0B,EAAE,KAAAC,MAAA,CAAMF,IAAI,CAACG,QAAQ,CAACV,IAAI,MAAAS,MAAA,CAAIF,IAAI,CAACP,IAAI,CAAG,CAAAG,QAAA,cAC9CZ,IAAA,CAACL,OAAO,EACNyB,GAAG,CAAEJ,IAAI,CAACK,UAAU,CAACC,GAAI,CACzBC,IAAI,CAAEP,IAAI,CAACQ,KAAM,CACjBC,MAAM,CAAET,IAAI,CAACS,MAAO,CACpBC,IAAI,CAAE,GAAI,CAAAC,IAAI,CAACX,IAAI,CAACY,aAAa,CAAC,CAACC,kBAAkB,CAAC,OAAO,CAAErC,OAAO,CAAE,CACxE2B,QAAQ,CAAEH,IAAI,CAACG,QAAQ,CAACI,IAAK,CAC9B,CAAC,CACE,CAAC,EACR,CAAC,CACC,CAAC,cAENvB,IAAA,CAACH,UAAU,EAACc,SAAS,CAAEF,IAAI,CAAGE,SAAS,CAAG,CAAE,CAAC,CAAC,EAE3C,CAAC,CAEV,CAAC,CAED,cAAe,CAAAR,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}